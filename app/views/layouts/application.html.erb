<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7 ]> <html class="ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> 
<html lang="en" ng-app="spinner"> <!--<![endif]-->
  <head>
  	<meta charset="utf-8" />

  	<!-- Uncomment to make IE8 render like IE7 -->
  	<!-- <meta http-equiv="X-UA-Compatible" content="IE=7" /> -->

  	<!-- Set the viewport width to device width for mobile -->
  	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

  	<title><%= content_for?(:title) ? yield(:title) : "Untitled" %></title>

  	<%= stylesheet_link_tag    "application" %>
  	<%= javascript_include_tag "vendor/custom.modernizr" %>
    <%= csrf_meta_tags %>
  </head>

  <body class="antialiased off-canvas hide-extras">
  <div ng-controller="SpinnerCtrl" ng-cloak>     
    <!-- Header and Nav -->
     <nav class="top-bar hide-for-small">
        <ul class="title-area">
          <!-- Title Area -->
          <li class="name" ng-click="dashboard()"><h1><a>Deployment Framework</a></h1></li>        
        </ul>

        <section class="top-bar-section">
              <!-- Right Nav Section -->
          <ul class="right">
            <li class="divider"></li>
            <li class="active has-dropdown"><a>Validation</a>
              <ul class="dropdown">
                <li><a>Release</a></li>
                <li class="divider"></li>
                <li><a>Runtime</a></li>
              </ul>
            </li>
            <li class="divider"></li>
            <li ng-click="osbservices()"><a>OSB Services</a></li>
            <li class="divider"></li>
            <li ng-click="validationTracker()"><a>Validation Tracker</a></li>
            <li class="divider"></li>
            <li ng-click="osbtracker()"><a>Deployment Tracker</a></li>
            <li class="divider"></li>
            <li ng-click="deployment()"><a>Deployment</a></li>
          </ul>
        </section>
      </nav>
    <!-- End Header and Nav -->

        <!-- Main -->
        
          <div class="large-9 columns" >
            <div class="row">
              <div class="large-12 columns">
                <div ng-show="myosbs" >
                  <div class='panel  radius'>
                    <h1>OSB Services</h1>
                   </div> 
                  <div class='panel radius'>
                    
                    <table ng-table="tableParams" class="table">
                        <thead>
                          <tr>
                            <th width="200">Name</th>
                            <th width="200">Server</th>
                            <th width="200">Version</th>
                            <th width="200">Harvested</th>
                            <th width="200">Created</th>                    
                          </tr>
                      </thead>
                      <tbody>
                         <tr ng-repeat="service in myosbs">
                            <td>{{service.name}}</td>
                            <td>{{service.server}}</td>
                            <td>{{service.version}}</td>                
                            <td>{{service.harvested_at}}</td>     
                            <td>{{service.created_at}}</td>     
                          <tr>
                        </tbody>
                      </table>
                    </div> <!-- End Panel -->
                  </div> <!-- ng-hide section -->

                <div ng-show="tracker" >
                  <h1>Deployment Tracker</h1>
                  <table>
                      <thead>
                        <tr>
                          <th width="200">Config</th>
                          <th width="200">Server</th>
                          <th width="200">tag</th>
                          <th width="200">artifacts</th>
                        </tr>
                    </thead>
                    <tbody>
                       <tr ng-repeat="track in tracker"> 
                          <td>{{track.environment_config}}</td>
                          <td>{{track.server}}</td>
                          <td>{{track.tag}}</td>                
                          <td>{{track.artifacts}}</td>     
                        <tr>
                      </tbody>
                    </table>
                  </div> <!-- ng-hide section -->

                  <div ng-show="validation">
                    <h2>{{valid_message}}</h2>
                  </div>  <!-- ng-hide section -->

                  <div ng-show="dash" >
                    <h2 ng-repeat="d in dash">{{d.message}}</h2>
                  </div>  <!-- ng-hide section -->
              </div>
            </div>
        </div> <!-- End main -->
      
    </div> <!-- end ng-controller -->
  
     
    
    <%= javascript_include_tag "application" %>
  </body>
</html>
